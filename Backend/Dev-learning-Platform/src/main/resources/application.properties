spring.application.name=Dev-learning-Platform

# ==============================================
# CONFIGURACIÓN DE SERVIDOR
# ==============================================
server.port=${PORT:8080}
server.url=${SERVER_URL:http://149.130.176.157:8080}

# ==============================================
# CONFIGURACIÓN DB DE PRODUCCIÓN (MySQL OCI)
# ==============================================

spring.datasource.url=jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update

# ==============================================
# CONFIGURACIÓN DE ALMACENAMIENTO
# ==============================================
app.upload.storage-type=oci

# ==============================================
# CONFIGURACIÓN DE OCI Object Storage (PRODUCCIÓN)
# ==============================================
oci.enabled=true
oci.config.profile=${OCI_CONFIG_PROFILE:DEFAULT}
oci.config.file=${OCI_CONFIG_FILE:/home/opc/.oci/config}
oci.objectstorage.region=sa-bogota-1
oci.objectstorage.namespace=axxillutcfyk
oci.objectstorage.bucket-name=bucket-images
oci.objectstorage.public-url-base=https://objectstorage.sa-bogota-1.oraclecloud.com/n/axxillutcfyk/b/bucket-images/o
oci.objectstorage.compartment-id=${OCI_COMPARTMENT_ID}

# Configuración de autenticación OCI
oci.auth.type=${OCI_AUTH_TYPE:config_file}
oci.auth.instance-principal.enabled=${OCI_INSTANCE_PRINCIPAL:false}

# ==============================================
# CONFIGURACIÓN DE JWT
# ==============================================

jwt.secret.key=${JWT_SECRET_KEY}
jwt.expiration.time=${JWT_EXPIRATION_TIME}

# ==============================================
# CONFIGURACIÓN DE CARGA DE ARCHIVOS
# ==============================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB
spring.servlet.multipart.resolve-lazily=false

# ==============================================
# CONFIGURACIÓN DE STRIPE (PRODUCCIÓN)
# ==============================================
stripe.api.key=${STRIPE_API_KEY}
stripe.api.public.key=${STRIPE_API_PUBLIC_KEY}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET}

# URLs de Stripe para redirección (usa las URLs reales de Vercel en producción)
stripe.success.url=https://edu-platform-omega-ten.vercel.app/payment/success?session_id={CHECKOUT_SESSION_ID}
stripe.cancel.url=https://edu-platform-omega-ten.vercel.app/payment/cancel

# ==============================================
# CONFIGURACIÓN DE FRONTEND Y CORS
# ==============================================

# Configuración de CORS - URLs permitidas para el frontend (patterns soportan wildcards)
app.cors.allowed-origins=http://localhost:5173,https://edu-platform-*.vercel.app,http://localhost:*

# ==============================================
# CONFIGURACIÓN DE CARGA DE ARCHIVOS
# ==============================================
app.upload.profile-images.base-url=${server.url}/uploads/profiles